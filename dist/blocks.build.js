!function(e){function t(a){if(n[a])return n[a].exports;var s=n[a]={i:a,l:!1,exports:{}};return e[a].call(s.exports,s,s.exports,t),s.l=!0,s.exports}var n={};t.m=e,t.c=n,t.d=function(e,n,a){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:a})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=3)}([function(e,t){e.exports=wp.editPost},function(e,t){e.exports=wp.components},function(e,t){e.exports=wp.i18n},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});n(4)},function(e,t,n){"use strict";var a=n(5),s=(n.n(a),n(6)),l=(n.n(s),n(7)),i=(n.n(l),n(8)),c=(n.n(i),n(0)),o=(n.n(c),n(9)),r=(n.n(o),n(1)),m=(n.n(r),n(2)),p=(n.n(m),n(10)),u=(n.n(p),function(e){var t=e.SEOPluginName,n=e.focusKeywordItems,a=e.haveAnyFocusKeywords;return"no"===ImageSEOVars.isRankMathActive&&"no"===ImageSEOVars.isYoastActive?"":!1===a?"":wp.element.createElement("div",{className:"image-seo-seo-keywords"},wp.element.createElement("div",{className:"image-seo-section-heading"},Object(m.sprintf)(Object(m.__)("Focus Keywords (%s)","image-seo"),t)),wp.element.createElement("ol",{className:"seo-ready-images-keywords"},n))}),g=function(e){var t=e.items;return wp.element.createElement("div",{className:"image-seo-list-of-images"},wp.element.createElement("div",{className:"image-seo-section-heading"},Object(m.__)("List of all images","image-seo")),wp.element.createElement("div",{className:"seo-ready-images-list"},t))},f=function(e){var t=e.allImagesCount,n=e.missingAltClass,a=e.missingCaptionClass,s=e.missingAltText,l=e.missingCaptionText;return wp.element.createElement("div",{className:"image-seo-images-summery"},wp.element.createElement("p",null,wp.element.createElement("b",null,Object(m.__)("Total","image-seo"),": "),Object(m.sprintf)(Object(m._n)("%d image found.","%d images found.",t,"image-seo"),t)),wp.element.createElement("ul",{className:"image-seo-categories-list"},wp.element.createElement("li",null,wp.element.createElement("b",null,Object(m.__)("Alt:","image-seo")," "),wp.element.createElement("span",{className:n},s)),wp.element.createElement("li",null,wp.element.createElement("b",null,Object(m.__)("Caption:","image-seo")," "),wp.element.createElement("span",{className:a},l))))},d=function(e){if(!e.count)return wp.element.createElement(l.Fragment,null,wp.element.createElement("p",{className:"no-images-found"},Object(m.__)("No images found.","image-seo")),wp.element.createElement("p",null,Object(m.__)("Read more the")," ",wp.element.createElement(r.ExternalLink,{href:"https://maheshwaghmare.com/doc/image-seo/"},Object(m.__)("importance of images"))));var t=[],n=!1,a="",s=Object(o.select)("core/block-editor").getBlocks(),i=s.filter(function(e){return"core/image"===e.name});"yes"===ImageSEOVars.isRankMathActive?(a="Rankmath",t=Object(o.select)("core/editor").getEditedPostAttribute("meta").rank_math_focus_keyword):"yes"===ImageSEOVars.isYoastActive&&(a="Yoast",t=Object(o.select)("core/editor").getEditedPostAttribute("meta")._yoast_wpseo_focuskw);var c="";Object(p.isEmpty)(t)||(n=!0,t=t.split(","),c=t.map(function(e){var t=0;return i.map(function(n,a){var s=n.attributes.alt,l=s.split(e).length-1||0;t+=l}),wp.element.createElement("li",null,e," ",wp.element.createElement("i",null,"(",t,")"))}));var d=Object(o.useDispatch)("core/block-editor"),b=d.updateBlockAttributes,w=0,E=0,_=i.length||0;i.forEach(function(e,t){e.attributes.alt||w++,e.attributes.caption||E++});var O=i.map(function(e,a){var s=e.attributes.url||"";if(s){var l=Object(p.last)(s.split("/")),i=e.attributes.alt,c=e.attributes.caption,o="",u=0,g=[];return Object(p.isEmpty)(i)?o="panel-fail":(o=Object(p.isEmpty)(i)?"panel-average":"panel-success",n&&t&&(t.map(function(e){var t=i.split(e).length-1||0;u+=t,t&&g.push(e)}),o=u?"panel-success":"panel-average")),l=l||s,wp.element.createElement(r.PanelBody,{initialOpen:!1,className:o,title:a+1+") "+l},wp.element.createElement("img",{src:s}),wp.element.createElement("p",null,wp.element.createElement("label",{class:"components-base-control__label"},Object(m.__)("Caption")),wp.element.createElement("textarea",{class:"components-textarea-control__input",rows:"1",onChange:function(t){return b(e.clientId,{caption:t.target.value})}},c)),wp.element.createElement("p",null,wp.element.createElement("label",{class:"components-base-control__label"},Object(m.__)("Alt text (alternative text)")),wp.element.createElement("textarea",{class:"components-textarea-control__input",rows:"4",onChange:function(t){return b(e.clientId,{alt:t.target.value})}},i),!Object(p.isEmpty)(g)||"yes"!==ImageSEOVars.isRankMathActive&&"yes"!==ImageSEOVars.isYoastActive?Object(m.sprintf)(Object(m.__)("Used keywords: %s","image-seo"),g.join(",")):Object(m.__)("No focus keyword.","image-seo")))}}),j=E?Object(m.sprintf)(Object(m._n)("Missing from %d image.","Missing from %d images.",E,"image-seo"),E):Object(m.__)("All Good."),v=E?"average":"success",y=w?Object(m.sprintf)(Object(m._n)("Missing from %d image.","Missing from %d images.",w,"image-seo"),w):Object(m.__)("All Good.","image-seo"),h=w?"fail":"success";return wp.element.createElement("div",null,wp.element.createElement(f,{allImagesCount:_,missingAltClass:h,missingCaptionClass:v,missingAltText:y,missingCaptionText:j}),wp.element.createElement(u,{SEOPluginName:a,focusKeywordItems:c,haveAnyFocusKeywords:n}),wp.element.createElement(g,{items:O}))},b=function(e){var t=Object(o.select)("core/block-editor").getBlocks(),n=t.filter(function(e){return"core/image"===e.name}),a=n.length||0;return wp.element.createElement(c.PluginSidebar,{name:"image-seo",title:Object(m.__)("Image SEO","image-seo")},wp.element.createElement("div",{className:"seo-ready-images-summery"},wp.element.createElement(d,{count:a})))};Object(o.withSelect)(function(e,t){t.rootClientId;return{blocks:e("core/block-editor").getBlocks()}})(b);Object(i.registerPlugin)("image-seo",{render:b,icon:wp.element.createElement("span",{className:"image-seo-icon-wrapper"},wp.element.createElement("span",{className:"dashicons dashicons-format-image"}),wp.element.createElement("span",{className:"image-seo-icon-title"},Object(m.__)("SEO","image-seo")))})},function(e,t){},function(e,t){},function(e,t){e.exports=wp.element},function(e,t){e.exports=wp.plugins},function(e,t){e.exports=wp.data},function(e,t){e.exports=lodash}]);